<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.linebot.mapper.TobuyMapper">
	<insert id="insert" parameterType="com.linebot.domain.Tobuy">
		insert into tobuy (
			goods,
			is_completed,
			created_date,
			updated_date
		) values (
			#{goods},
			#{isCompleted},
			current_timestamp,
			current_timestamp
		)
	</insert>

	<update id="updateAllCompleted">
		update tobuy
		set
			is_completed = '1',
			updated_date = current_timestamp
		where
			is_completed = '0'
	</update>

	<select id="findByIsCompleted" resultType="com.linebot.domain.Tobuy">
		select
			id,
			goods,
			is_completed,
			created_date,
			updated_date
		from
			tobuy
		where
			is_completed = #{isCompleted}
		order by
			id
	</select>
</mapper>